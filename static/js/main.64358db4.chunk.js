(this.webpackJsonpictbit_coding_challenge=this.webpackJsonpictbit_coding_challenge||[]).push([[0],{34:function(e,t,n){},35:function(e,t,n){},58:function(e,t,n){"use strict";n.r(t);var r,i,c,a,o,s,l,u=n(1),d=n.n(u),b=n(12),h=n.n(b),j=(n(34),n(35),n(9)),p=n.n(j),f=n(14),O=n(5),g=n(10),x=n(3),v=(n(16),n(13)),y=n(2);!function(e){e.MALE="male",e.FEMALE="female"}(l||(l={}));var m,w,z,U,S,C,k,A,E,N,D,I,P,L=(r=function(){function e(t){var n=t.name,r=t.age,l=t.gender,u=t.city,d=t.photoUrl;Object(g.a)(this,e),Object(O.a)(this,"name",i,this),Object(O.a)(this,"age",c,this),Object(O.a)(this,"gender",a,this),Object(O.a)(this,"city",o,this),Object(O.a)(this,"photoUrl",s,this),this.name=n,this.age=r,this.gender=l,this.city=u,this.photoUrl=d}return Object(v.a)(e,[{key:"username",get:function(){var e,t,n,r;return(r=null!==(e=null===(t=this.name)||void 0===t?void 0:t.substr(0,10))&&void 0!==e?e:"").charAt(0).toUpperCase()+r.slice(1)+String(null!==(n=this.age)&&void 0!==n?n:"")}},{key:"serialized",get:function(){return{name:this.name,age:this.age,gender:this.gender,city:this.city,photoUrl:this.photoUrl}}}]),e}(),i=Object(x.a)(r.prototype,"name",[y.g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=Object(x.a)(r.prototype,"age",[y.g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a=Object(x.a)(r.prototype,"gender",[y.g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=Object(x.a)(r.prototype,"city",[y.g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=Object(x.a)(r.prototype,"photoUrl",[y.g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Object(x.a)(r.prototype,"username",[y.d],Object.getOwnPropertyDescriptor(r.prototype,"username"),r.prototype),Object(x.a)(r.prototype,"serialized",[y.d],Object.getOwnPropertyDescriptor(r.prototype,"serialized"),r.prototype),r),M=n(27),R=n.n(M),J=(m=function e(t){Object(g.a)(this,e),this.rootStore=void 0,Object(O.a)(this,"currentUser",w,this),Object(O.a)(this,"initialized",z,this),Object(O.a)(this,"sync",U,this),Object(O.a)(this,"refresh",S,this),Object(O.a)(this,"delete",C,this),this.rootStore=t},w=Object(x.a)(m.prototype,"currentUser",[y.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=Object(x.a)(m.prototype,"initialized",[y.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),U=Object(x.a)(m.prototype,"sync",[y.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(f.a)(p.a.mark((function t(n){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==n){t.next=4;break}Object(y.h)((function(){e.currentUser=new L(n),e.initialized=!0})),t.next=6;break;case 4:return t.next=6,e.refresh();case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),S=Object(x.a)(m.prototype,"refresh",[y.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return Object(f.a)(p.a.mark((function t(){var n,r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.initialized=!1,t.next=3,R.a.get("https://randomuser.me/api/");case 3:n=t.sent.data.results[0],r=new L({name:n.name.first,age:n.dob.age,gender:n.gender,city:n.location.country+" "+n.location.city,photoUrl:n.picture.medium}),Object(y.h)((function(){e.currentUser=r,e.initialized=!0}));case 6:case"end":return t.stop()}}),t)})))}}),C=Object(x.a)(m.prototype,"delete",[y.b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return Object(f.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.currentUser=new L({});case 1:case"end":return t.stop()}}),t)})))}}),m),_=(k=function(){function e(t){var n,r=this;Object(g.a)(this,e),this.currentUserStore=void 0,this.serialize=function(){var e;return{currentUserStore:{currentUser:null===(e=r.currentUserStore.currentUser)||void 0===e?void 0:e.serialized}}},this.currentUserStore=new J(this),Promise.all([this.currentUserStore.sync(null===t||void 0===t||null===(n=t.currentUserStore)||void 0===n?void 0:n.currentUser)]).then(),console.log(this)}return Object(v.a)(e,[{key:"initialized",get:function(){return this.currentUserStore.initialized}}]),e}(),Object(x.a)(k.prototype,"initialized",[y.d],Object.getOwnPropertyDescriptor(k.prototype,"initialized"),k.prototype),k),F=d.a.createContext(null),G=n(7),B=n(8),q=B.a.div(A||(A=Object(G.a)(["\n  background: url(",") center no-repeat;\n  background-size: contain;\n  border: 2px solid #fff;\n  border-radius: 50%;\n  width: 40px;\n  height: 40px;\n"])),(function(e){return e.src})),H=B.a.div(E||(E=Object(G.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: ",";\n  align-items: ",";\n  height: ",";\n"])),(function(e){var t=e.justifyContent;return null!==t&&void 0!==t?t:"start"}),(function(e){var t=e.alignItems;return null!==t&&void 0!==t?t:"start"}),(function(e){return"max"===e.crossAxisSize?"100%":"fit-content"})),K=B.a.div(N||(N=Object(G.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: ",";\n  align-items: ",";\n  width: ",";\n"])),(function(e){var t=e.justifyContent;return null!==t&&void 0!==t?t:"start"}),(function(e){var t=e.alignItems;return null!==t&&void 0!==t?t:"start"}),(function(e){return"max"===e.crossAxisSize?"100%":"fit-content"})),Q=B.a.button(D||(D=Object(G.a)(["\n  border: none;\n  box-shadow: none;\n  border-radius: 5px;\n  cursor: pointer;\n"]))),T=n(11),V=n(0),W=B.a.div(I||(I=Object(G.a)(["\n  display: flex;\n  flex-direction: column;\n  max-width: 250px;\n  width: 250px;\n  font-size: 14px;\n  padding: 16px;\n  box-sizing: border-box;\n  border: 1px solid #fff;\n  border-radius: 5px;\n  & > * {\n    margin: 5px 0;\n  }\n"]))),X=function(e){var t=e.user,n=e.onRefresh,r=e.onDelete;return Object(V.jsx)(T.a,{children:function(){return Object(V.jsxs)(W,{children:[Object(V.jsxs)(H,{children:[Object(V.jsx)(q,{src:t.photoUrl,style:{marginRight:5}}),Object(V.jsxs)(K,{justifyContent:"space-between",children:[Object(V.jsx)("div",{children:t.name}),Object(V.jsx)("div",{children:t.username})]})]}),Object(V.jsxs)(H,{children:[Object(V.jsx)("span",{style:{width:80,textAlign:"start"},children:"City:"}),Object(V.jsx)("span",{children:t.city})]}),Object(V.jsxs)(H,{children:[Object(V.jsx)("span",{style:{width:80,textAlign:"start"},children:"Age:"}),Object(V.jsx)("span",{children:t.age})]}),Object(V.jsxs)(H,{children:[Object(V.jsx)("span",{style:{width:80,textAlign:"start"},children:"Gender:"}),Object(V.jsx)("span",{children:t.gender})]}),Object(V.jsxs)(H,{justifyContent:"space-between",children:[Object(V.jsx)(Q,{onClick:n,style:{width:"45%"},children:"Refresh"}),Object(V.jsx)(Q,{onClick:r,style:{width:"45%",background:"red",color:"#fff"},children:"Delete"})]})]})}})},Y=function(){return Object(V.jsx)("div",{children:"Loading"})},Z=B.a.div(P||(P=Object(G.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  & > * {\n    margin: 5px 0;\n  }\n"]))),$=function(e){var t=e.title,n=e.children;return Object(V.jsxs)(H,{alignItems:"center",justifyContent:"space-between",style:{fontSize:14,width:"100%"},children:[Object(V.jsx)("div",{children:t}),n]})},ee=function(e){var t=e.user;return Object(V.jsx)(T.a,{children:function(){var e,n,r,i,c;return null!=t?Object(V.jsxs)(Z,{children:[Object(V.jsx)($,{title:"Name",children:Object(V.jsx)("input",{value:null!==(e=t.name)&&void 0!==e?e:"",onChange:function(e){return t.name=e.target.value}})}),Object(V.jsx)($,{title:"Age",children:Object(V.jsx)("input",{type:"number",value:null!==(n=t.age)&&void 0!==n?n:"",onChange:function(e){return!isNaN(+e.target.value)&&(t.age=+e.target.value)}})}),Object(V.jsx)($,{title:"Gender",children:Object(V.jsxs)("select",{style:{width:153},value:null!==(r=t.gender)&&void 0!==r?r:"",onChange:function(e){return t.gender=e.target.value},children:[Object(V.jsx)("option",{}),Object(V.jsx)("option",{children:l.MALE}),Object(V.jsx)("option",{children:l.FEMALE})]})}),Object(V.jsx)($,{title:"City",children:Object(V.jsx)("input",{value:null!==(i=t.city)&&void 0!==i?i:"",onChange:function(e){return t.city=e.target.value}})}),Object(V.jsx)($,{title:"Photo url",children:Object(V.jsx)("input",{value:null!==(c=t.photoUrl)&&void 0!==c?c:"",onChange:function(e){return t.photoUrl=e.target.value}})})]}):null}})},te=function(){var e=function(){var e=d.a.useContext(F);if(null==e)throw new Error("No RootStore found i context");return e}().currentUserStore;return Object(V.jsx)("div",{className:"App",children:Object(V.jsx)("header",{className:"App-header",children:Object(V.jsx)(T.a,{children:function(){return e.initialized&&null!=e.currentUser?Object(V.jsxs)(K,{children:[Object(V.jsx)(X,{user:e.currentUser,onRefresh:e.refresh,onDelete:e.delete}),Object(V.jsx)(ee,{user:e.currentUser})]}):Object(V.jsx)(Y,{})}})})})},ne=new _(function(){try{return JSON.parse(localStorage.getItem("store"))||void 0}catch(e){return void console.log(e)}}());Object(y.c)((function(){var e;e=ne.serialize(),localStorage.setItem("store",JSON.stringify(e))}),{delay:1e3}),h.a.render(Object(V.jsx)(d.a.StrictMode,{children:Object(V.jsx)(F.Provider,{value:ne,children:Object(V.jsx)(te,{})})}),document.getElementById("root"))}},[[58,1,2]]]);
//# sourceMappingURL=main.64358db4.chunk.js.map